{"version":3,"file":"RelatedList.min.js","sources":["RelatedList.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\njQuery.Class(\n\t'Vtiger_RelatedList_Js',\n\t{\n\t\trelatedListInstance: false,\n\t\tgetInstance: function (parentId, parentModule, selectedRelatedTabElement, relatedModuleName, url) {\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== relatedModuleName\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.parentRecordId = parentId;\n\t\t\t\tinstance.parentModuleName = parentModule;\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.moduleName = relatedModuleName;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parseUrlParams(url);\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\tgetInstanceByUrl: function (url, selectedRelatedTabElement) {\n\t\t\tlet params = app.convertUrlToObject(url);\n\t\t\tif (\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance === false ||\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName !== params['relatedModule']\n\t\t\t) {\n\t\t\t\tlet moduleClassName = app.getModuleName() + '_RelatedList_Js',\n\t\t\t\t\tfallbackClassName = Vtiger_RelatedList_Js,\n\t\t\t\t\tinstance;\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tinstance = new window[moduleClassName]();\n\t\t\t\t} else {\n\t\t\t\t\tinstance = new fallbackClassName();\n\t\t\t\t}\n\t\t\t\tinstance.selectedRelatedTabElement = selectedRelatedTabElement;\n\t\t\t\tinstance.relatedTabsContainer = selectedRelatedTabElement.closest('div.related');\n\t\t\t\tinstance.content = $('div.contents', instance.relatedTabsContainer.closest('div.detailViewContainer'));\n\t\t\t\tinstance.relatedView = instance.content.find('input.relatedView').val();\n\t\t\t\tVtiger_RelatedList_Js.relatedListInstance = instance;\n\t\t\t}\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentRecordId = params['record'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.parentModuleName = params['module'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.moduleName = params['relatedModule'];\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.defaultParams = params;\n\t\t\tVtiger_RelatedList_Js.relatedListInstance.setSelectedTabElement(selectedRelatedTabElement);\n\t\t\treturn Vtiger_RelatedList_Js.relatedListInstance;\n\t\t},\n\t\ttriggerMassAction: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet progressIndicatorElement = $.progressIndicator(),\n\t\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\t\tpostData = self.getCompleteParams();\n\t\t\t\tdelete postData.mode;\n\t\t\t\tdelete postData.view;\n\t\t\t\tpostData.viewname = cvId;\n\t\t\t\tpostData.selected_ids = selectedIds;\n\t\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\t\tlet actionParams = {\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl: massActionUrl,\n\t\t\t\t\tdata: postData\n\t\t\t\t};\n\t\t\t\tif (type === 'sendByForm') {\n\t\t\t\t\tapp.openUrlMethodPost(massActionUrl, postData);\n\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t} else {\n\t\t\t\t\tAppConnector.request(actionParams)\n\t\t\t\t\t\t.done(function (responseData) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (responseData && responseData.result !== null) {\n\t\t\t\t\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.reloadList) {\n\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (responseData.result.procesStop) {\n\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Method to verify if selected files exist\n\t\t * @return boolean\n\t\t */\n\t\tverifyFileExist: function () {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet aDeferred = jQuery.Deferred(),\n\t\t\t\tselectedIds = self.readSelectedIds(true),\n\t\t\t\texcludedIds = self.readExcludedIds(true),\n\t\t\t\tcvId = self.getCurrentCvId(),\n\t\t\t\tpostData = self.getCompleteParams();\n\t\t\tdelete postData.mode;\n\t\t\tdelete postData.view;\n\t\t\tpostData.viewname = cvId;\n\t\t\tpostData.selected_ids = selectedIds;\n\t\t\tpostData.excluded_ids = excludedIds;\n\t\t\tpostData.action = 'RelationAjax';\n\t\t\tpostData.mode = 'checkFilesIntegrity';\n\t\t\tAppConnector.request({\n\t\t\t\ttype: 'POST',\n\t\t\t\tdata: postData\n\t\t\t}).done(function (responseData) {\n\t\t\t\tif (responseData.result.notify) {\n\t\t\t\t\tVtiger_Helper_Js.showMessage(responseData.result.notify);\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(true);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass download action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassDownload: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass state action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\t triggerMassState: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance,\n\t\t\t\tthisInstance = this;\n\t\t\tthis.verifyFileExist().done(function (data) {\n\t\t\t\tif (true === data) {\n\t\t\t\t\tthisInstance.triggerMassAction(massActionUrl.substring(0, massActionUrl.indexOf('&mode=multiple')), type);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\ttriggerMassQuickCreate: function (moduleName, data) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tif (self.checkListRecordSelected() != true) {\n\t\t\t\tlet listParams = self.getSelectedParams();\n\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\tlet params = {\n\t\t\t\t\tcallbackFunction: function () {\n\t\t\t\t\t\tself.loadRelatedList();\n\t\t\t\t\t},\n\t\t\t\t\tnoCache: true,\n\t\t\t\t\tdata: $.extend(data, {\n\t\t\t\t\t\tsourceView: 'RelatedListView',\n\t\t\t\t\t\tsourceModule: listParams.relatedModule,\n\t\t\t\t\t\tentityState: listParams.entityState,\n\t\t\t\t\t\tsearch_params: listParams.search_params,\n\t\t\t\t\t\texcluded_ids: listParams.excluded_ids,\n\t\t\t\t\t\tselected_ids: listParams.selected_ids,\n\t\t\t\t\t\trelationId: listParams.relationId,\n\t\t\t\t\t\trelatedRecord: listParams.record,\n\t\t\t\t\t\trelatedModule: listParams.module\n\t\t\t\t\t})\n\t\t\t\t};\n\t\t\t\tApp.Components.QuickCreate.getForm(\n\t\t\t\t\t'index.php?module=' + moduleName + '&view=MassQuickCreateModal',\n\t\t\t\t\tmoduleName,\n\t\t\t\t\tparams\n\t\t\t\t).done((data) => {\n\t\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t});\n\t\t\t\t\tApp.Components.QuickCreate.showModal(data, params);\n\t\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal\n\t\t */\n\t\ttriggerSendEmail: function () {\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId()\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t}\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Function to trigger mass send email modal by row\n\t\t */\n\t\ttriggerSendEmailByRow: function (row) {\n\t\t\tif (!(row instanceof jQuery)) {\n\t\t\t\trow = $(row);\n\t\t\t}\n\t\t\tlet params = Vtiger_RelatedList_Js.relatedListInstance.getDefaultParams();\n\t\t\tVtiger_List_Js.triggerSendEmail(\n\t\t\t\t$.extend(params, {\n\t\t\t\t\trelatedLoad: true,\n\t\t\t\t\tmodule: Vtiger_RelatedList_Js.relatedListInstance.moduleName,\n\t\t\t\t\tsourceModule: app.getModuleName(),\n\t\t\t\t\tsourceRecord: app.getRecordId(),\n\t\t\t\t\tselected_ids: '[\"' + $(row).closest('.js-list__row').data('id') + '\"]'\n\t\t\t\t}),\n\t\t\t\tfunction () {\n\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t},\n\t\t\t\trow\n\t\t\t);\n\t\t},\n\t\t/**\n\t\t * Method to trigger mass email action\n\t\t * @param massActionUrl\n\t\t * @param type\n\t\t */\n\t\ttriggerMassEmail: function (massActionUrl, type) {\n\t\t\tconst self = this.relatedListInstance;\n\t\t\tlet validationResult = self.checkListRecordSelected();\n\t\t\tif (validationResult != true) {\n\t\t\t\tlet selectedIds = JSON.parse(self.readSelectedIds(true)),\n\t\t\t\t\texcludedIds = JSON.parse(self.readExcludedIds(true));\n\n\t\t\t\tif (selectedIds.includes('all') || excludedIds.length > 0) {\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_ALL_IS_NOT_SUPPORTED'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\twindow.open(massActionUrl + selectedIds.join(','), '_blank', 'height=750,width=' + Math.max($(window).width() - 300, 600));\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.noRecordSelectedAlert();\n\t\t\t}\n\t\t},\n\t},\n\t{\n\t\tselectedRelatedTabElement: false,\n\t\tparentRecordId: false,\n\t\tparentModuleName: false,\n\t\tmoduleName: false,\n\t\trelatedTabsContainer: false,\n\t\tcontent: false,\n\t\tlistSearchInstance: false,\n\t\tdetailViewContentHolder: false,\n\t\trelatedView: false,\n\t\tframeProgress: false,\n\t\tnoEventsListSearch: false,\n\t\tlistViewContainer: false,\n\t\tdefaultParams: {},\n\t\tsetSelectedTabElement: function (tabElement) {\n\t\t\tthis.selectedRelatedTabElement = tabElement;\n\t\t},\n\t\tgetSelectedTabElement: function () {\n\t\t\treturn this.selectedRelatedTabElement;\n\t\t},\n\t\tgetParentId: function () {\n\t\t\treturn this.parentRecordId;\n\t\t},\n\t\tgetRelatedContainer: function () {\n\t\t\treturn this.content;\n\t\t},\n\t\tsetRelatedContainer: function (container) {\n\t\t\tthis.content = container;\n\t\t\tthis.relatedView = container.find('input.relatedView').val();\n\t\t},\n\t\tgetContentHolder: function () {\n\t\t\tif (this.detailViewContentHolder == false) {\n\t\t\t\tthis.detailViewContentHolder = $('div.details div.contents');\n\t\t\t}\n\t\t\treturn this.detailViewContentHolder;\n\t\t},\n\t\tgetCurrentPageNum: function () {\n\t\t\treturn $('input[name=\"currentPageNum\"]', this.content).val();\n\t\t},\n\t\tsetCurrentPageNumber: function (pageNumber) {\n\t\t\t$('input[name=\"currentPageNum\"]', this.content).val(pageNumber);\n\t\t},\n\t\tgetOrderBy: function () {\n\t\t\treturn $('#orderBy', this.content).val();\n\t\t},\n\t\tgetDefaultParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = Object.assign({}, this.defaultParams);\n\t\t\tparams['page'] = this.getCurrentPageNum();\n\t\t\tparams['orderby'] = this.getOrderBy();\n\t\t\tif (container.find('#relationId').val()) {\n\t\t\t\tparams['relationId'] = container.find('#relationId').val();\n\t\t\t}\n\t\t\tif (container.find('.js-relation-cv-id').val()) {\n\t\t\t\tparams['cvId'] = container.find('.js-relation-cv-id').val();\n\t\t\t}\n\t\t\tif (container.find('.pagination').length) {\n\t\t\t\tparams['totalCount'] = container.find('.pagination').data('totalCount');\n\t\t\t}\n\t\t\tif (container.find('.entityState').length) {\n\t\t\t\tparams['entityState'] = container.find('.entityState').val();\n\t\t\t}\n\t\t\tif (this.listSearchInstance) {\n\t\t\t\tparams.search_params = JSON.stringify(this.listSearchInstance.getListSearchParams());\n\t\t\t\tlet searchValue = this.listSearchInstance.getAlphabetSearchValue();\n\t\t\t\tif (typeof searchValue !== 'undefined' && searchValue.length > 0) {\n\t\t\t\t\tparams['search_key'] = this.listSearchInstance.getAlphabetSearchField();\n\t\t\t\t\tparams['search_value'] = searchValue;\n\t\t\t\t\tparams['operator'] = 's';\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.moduleName == 'Calendar') {\n\t\t\t\tlet switchBtn = container.find('.js-switch--calendar');\n\t\t\t\tif (switchBtn.length) {\n\t\t\t\t\tparams.time = switchBtn.first().prop('checked') ? 'current' : 'history';\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn params;\n\t\t},\n\t\tgetCompleteParams: function () {\n\t\t\tlet container = this.getRelatedContainer();\n\t\t\tlet params = {\n\t\t\t\tview: 'Detail',\n\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\trecord: this.getParentId(),\n\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\trelatedView: this.relatedView,\n\t\t\t\tmode: 'showRelatedList',\n\t\t\t\ttab_label: container.find('#tab_label').val()\n\t\t\t};\n\t\t\treturn $.extend(this.getDefaultParams(), params);\n\t\t},\n\t\tgetSelectedParams: function () {\n\t\t\treturn $.extend(this.getCompleteParams(), {\n\t\t\t\tselected_ids: this.readSelectedIds(true),\n\t\t\t\texcluded_ids: this.readExcludedIds(true),\n\t\t\t\tcvid: this.getCurrentCvId()\n\t\t\t});\n\t\t},\n\t\tparseUrlParams: function (url) {\n\t\t\tif (url) {\n\t\t\t\tthis.defaultParams = app.convertUrlToObject(url);\n\t\t\t} else {\n\t\t\t\tthis.defaultParams = {};\n\t\t\t}\n\t\t},\n\t\tloadRelatedList: function (params) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (typeof thisInstance.moduleName === 'undefined' || thisInstance.moduleName.length <= 0) {\n\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\treturn aDeferred.promise();\n\t\t\t}\n\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tlet completeParams = this.getCompleteParams();\n\t\t\tlet activeTabsReference = thisInstance.relatedTabsContainer.find('li.active').data('reference');\n\t\t\tAppConnector.request($.extend(completeParams, params))\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\tlet currentInstance = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\tcurrentInstance.loadWidgets();\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (activeTabsReference !== 'ProductsAndServices') {\n\t\t\t\t\t\tthisInstance.relatedTabsContainer.find('li').removeClass('active');\n\t\t\t\t\t\tthisInstance.selectedRelatedTabElement.addClass('active');\n\t\t\t\t\t\tthisInstance.content.html(responseData);\n\t\t\t\t\t\t$('.pageNumbers', thisInstance.content).tooltip();\n\t\t\t\t\t\tthisInstance.registerPostLoadEvents();\n\t\t\t\t\t\tthisInstance.registerListEvents();\n\t\t\t\t\t}\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_NOT_ALLOWED_VALUE'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\ttriggerDisplayTypeEvent: function () {\n\t\t\tlet widthType = app.cacheGet('widthType', 'narrowWidthType');\n\t\t\tif (widthType) {\n\t\t\t\tlet elements = this.content.find('.listViewEntriesTable').find('td,th');\n\t\t\t\telements.attr('class', widthType);\n\t\t\t}\n\t\t},\n\t\tshowSelectRelation: function (extendParams) {\n\t\t\tlet params = $.extend(this.getRecordsListParams(), extendParams);\n\t\t\tapp.showRecordsList(params, (modal, instance) => {\n\t\t\t\tinstance.setSelectEvent((responseData) => {\n\t\t\t\t\tthis.addRelations(Object.keys(responseData)).done(() => {\n\t\t\t\t\t\tapp.event.trigger('RelatedListView.AfterSelectRelation', responseData, this, instance, params);\n\t\t\t\t\t\tlet detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tthis.loadRelatedList().done(function () {\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (this.getSelectedTabElement().data('link-key') === 'LBL_RECORD_SUMMARY') {\n\t\t\t\t\t\t\tdetail.loadWidgets();\n\t\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetRecordsListParams: function () {\n\t\t\treturn {\n\t\t\t\tmodule: this.moduleName,\n\t\t\t\tsrc_module: this.parentModuleName,\n\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\tmulti_select: true\n\t\t\t};\n\t\t},\n\t\taddRelations: function (idList, params = {}) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tAppConnector.request(\n\t\t\t\t$.extend(\n\t\t\t\t\t{\n\t\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\t\tmode: 'addRelation',\n\t\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\t\trelated_record_list: $.isArray(idList) ? JSON.stringify(idList) : idList\n\t\t\t\t\t},\n\t\t\t\t\tparams\n\t\t\t\t)\n\t\t\t)\n\t\t\t\t.done(function (responseData) {\n\t\t\t\t\taDeferred.resolve(responseData);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tdeleteRelation(target) {\n\t\t\tlet params = {};\n\t\t\tif (target.data('url')) {\n\t\t\t\tparams = target.data('url');\n\t\t\t} else {\n\t\t\t\tlet id = target.data('id') ? target.data('id') : target.closest('tr').data('id');\n\t\t\t\tparams = {\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'deleteRelation',\n\t\t\t\t\trelated_module: this.moduleName,\n\t\t\t\t\tsrc_record: this.parentRecordId,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelated_record_list: JSON.stringify([id])\n\t\t\t\t};\n\t\t\t}\n\t\t\tlet progressInstance = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: { enabled: true }\n\t\t\t});\n\t\t\tAppConnector.request(params)\n\t\t\t\t.done((response) => {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tif (response.result) {\n\t\t\t\t\t\tlet widget = target.closest('.widgetContentBlock');\n\t\t\t\t\t\tconst detail = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\tif (widget.length) {\n\t\t\t\t\t\t\tdetail.loadWidget(widget);\n\t\t\t\t\t\t\tlet updatesWidget = this.getContentHolder().find('[data-type=\"Updates\"]');\n\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\tdetail.loadWidget(updatesWidget);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t\t}\n\t\t\t\t\t\tdetail.registerRelatedModulesRecordCount();\n\t\t\t\t\t} else {\n\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.fail(function (err, errThrow) {\n\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\ttext: app.vtranslate('JS_CANNOT_REMOVE_RELATION'),\n\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tnextPageHandler: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tlet pageLimit = jQuery('#pageLimit', this.content).val();\n\t\t\tlet noOfEntries = jQuery('#noOfEntries', this.content).val();\n\t\t\tif (noOfEntries == pageLimit) {\n\t\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\t\tlet nextPage = parseInt(pageNumber) + 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: nextPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(nextPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle next page navigation\n\t\t */\n\t\tpreviousPageHandler: function () {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tlet pageNumber = this.getCurrentPageNum();\n\t\t\tif (pageNumber > 1) {\n\t\t\t\tlet previousPage = parseInt(pageNumber) - 1;\n\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\tpage: previousPage\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tthisInstance.setCurrentPageNumber(previousPage);\n\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle select page jump in related list\n\t\t */\n\t\tselectPageHandler: function (pageNumber) {\n\t\t\tconst thisInstance = this,\n\t\t\t\taDeferred = jQuery.Deferred();\n\t\t\tthis.loadRelatedList({\n\t\t\t\tpage: pageNumber\n\t\t\t})\n\t\t\t\t.done(function (data) {\n\t\t\t\t\tthisInstance.setCurrentPageNumber(pageNumber);\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t})\n\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to handle page jump in related list\n\t\t */\n\t\tpageJumpHandler: function (e) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet thisInstance = this;\n\t\t\tif (e.which == 13) {\n\t\t\t\tlet element = jQuery(e.currentTarget);\n\t\t\t\tlet response = Vtiger_WholeNumberGreaterThanZero_Validator_Js.invokeValidation(element);\n\t\t\t\tif (typeof response !== 'undefined') {\n\t\t\t\t\telement.validationEngine('showPrompt', response, '', 'topLeft', true);\n\t\t\t\t\te.preventDefault();\n\t\t\t\t} else {\n\t\t\t\t\telement.validationEngine('hideAll');\n\t\t\t\t\tlet jumpToPage = parseInt(element.val());\n\t\t\t\t\tlet totalPages = parseInt(jQuery('#totalPageCount', thisInstance.content).text());\n\t\t\t\t\tif (jumpToPage > totalPages) {\n\t\t\t\t\t\tlet error = app.vtranslate('JS_PAGE_NOT_EXIST');\n\t\t\t\t\t\telement.validationEngine('showPrompt', error, '', 'topLeft', true);\n\t\t\t\t\t}\n\t\t\t\t\tlet invalidFields = element.parent().find('.formError');\n\t\t\t\t\tif (invalidFields.length < 1) {\n\t\t\t\t\t\tlet currentPage = jQuery('input[name=\"currentPageNum\"]', thisInstance.content).val();\n\t\t\t\t\t\tif (jumpToPage == currentPage) {\n\t\t\t\t\t\t\tlet message = app.vtranslate('JS_YOU_ARE_IN_PAGE_NUMBER') + ' ' + jumpToPage;\n\t\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\t\ttext: message,\n\t\t\t\t\t\t\t\ttype: 'info'\n\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(params);\n\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.loadRelatedList({\n\t\t\t\t\t\t\tpage: jumpToPage\n\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tthisInstance.setCurrentPageNumber(jumpToPage);\n\t\t\t\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function (textStatus, errorThrown) {\n\t\t\t\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to add related record for the module\n\t\t */\n\t\taddRelatedRecord: function (element, callback, urlPart) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet referenceModuleName = this.moduleName;\n\t\t\tlet parentId = this.getParentId();\n\t\t\tlet parentModule = this.parentModuleName;\n\t\t\tlet quickCreateParams = {};\n\t\t\tlet relatedParams = {};\n\t\t\tlet relatedField = element.data('name');\n\t\t\tlet fullFormUrl = element.data('url');\n\t\t\tif (typeof fullFormUrl !== 'undefined' && typeof urlPart !== 'undefined') {\n\t\t\t\tfullFormUrl += (fullFormUrl.indexOf('?') !== -1 ? '&' : '?') + urlPart;\n\t\t\t}\n\t\t\tif (relatedField) {\n\t\t\t\trelatedParams[relatedField] = parentId;\n\t\t\t}\n\t\t\tlet eliminatedKeys = new Array('view', 'module', 'mode', 'action');\n\t\t\tlet preQuickCreateSave = function (data) {\n\t\t\t\tlet index, queryParam, queryParamComponents;\n\t\t\t\tlet queryParameters = [];\n\n\t\t\t\t//To handle switch to task tab when click on add task from related list of activities\n\t\t\t\t//As this is leading to events tab intially even clicked on add task\n\t\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\t\tqueryParameters = queryString.split('&');\n\t\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\t\tif (queryParamComponents[0] == 'mode' && queryParamComponents[1] == 'Calendar') {\n\t\t\t\t\t\t\tdata.find('a[data-tab-name=\"Task\"]').trigger('click');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceModule\" value=\"' + parentModule + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\tjQuery('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\n\t\t\t\tif (typeof relatedField !== 'undefined') {\n\t\t\t\t\tlet field = data.find('[name=\"' + relatedField + '\"]');\n\t\t\t\t\t//If their is no element with the relatedField name,we are adding hidden element with\n\t\t\t\t\t//name as relatedField name,for saving of record with relation to parent record\n\t\t\t\t\tif (field.length == 0) {\n\t\t\t\t\t\tjQuery('<input type=\"hidden\" name=\"' + relatedField + '\" value=\"' + parentId + '\" />').appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tqueryParam = queryParameters[index];\n\t\t\t\t\tqueryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (\n\t\t\t\t\t\tjQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1' &&\n\t\t\t\t\t\tdata.find('[name=\"' + queryParamComponents[0] + '\"]').length == 0\n\t\t\t\t\t) {\n\t\t\t\t\t\tjQuery(\n\t\t\t\t\t\t\t'<input type=\"hidden\" name=\"' + queryParamComponents[0] + '\" value=\"' + queryParamComponents[1] + '\" />'\n\t\t\t\t\t\t).appendTo(data);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (typeof callback !== 'undefined') {\n\t\t\t\t\tcallback();\n\t\t\t\t}\n\t\t\t};\n\t\t\t//If url contains params then seperate them and make them as relatedParams\n\t\t\tif (typeof fullFormUrl !== 'undefined' && fullFormUrl.indexOf('?') !== -1) {\n\t\t\t\tlet urlSplit = fullFormUrl.split('?');\n\t\t\t\tlet queryString = urlSplit[1];\n\t\t\t\tlet queryParameters = queryString.split('&');\n\t\t\t\tfor (let index = 0; index < queryParameters.length; index++) {\n\t\t\t\t\tlet queryParam = queryParameters[index];\n\t\t\t\t\tlet queryParamComponents = queryParam.split('=');\n\t\t\t\t\tif (jQuery.inArray(queryParamComponents[0], eliminatedKeys) == '-1') {\n\t\t\t\t\t\trelatedParams[queryParamComponents[0]] = queryParamComponents[1];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tquickCreateParams['data'] = relatedParams;\n\t\t\tquickCreateParams['callbackFunction'] = function (data) {\n\t\t\t\taDeferred.resolve(data);\n\t\t\t};\n\t\t\tquickCreateParams['callbackPostShown'] = preQuickCreateSave;\n\t\t\tquickCreateParams['noCache'] = true;\n\t\t\tApp.Components.QuickCreate.createRecord(referenceModuleName, quickCreateParams);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tgetRelatedPageCount: function () {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tlet element = this.content.find('#totalPageCount');\n\t\t\tlet totalCountElem = this.content.find('#totalCount');\n\t\t\tlet totalPageNumber = element.text();\n\t\t\tif (totalPageNumber == '') {\n\t\t\t\telement.progressIndicator({});\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'getRelatedListPageCount',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\trelatedModule: this.moduleName\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tlet pageCount = data['result']['page'];\n\t\t\t\t\t\tlet numberOfRecords = data['result']['numberOfRecords'];\n\t\t\t\t\t\ttotalCountElem.val(numberOfRecords);\n\t\t\t\t\t\telement.text(pageCount);\n\t\t\t\t\t\telement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\taDeferred.resolve();\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.resolve();\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tfavoritesRelation: function (relcrmId, state) {\n\t\t\tlet aDeferred = jQuery.Deferred();\n\t\t\tif (relcrmId) {\n\t\t\t\tAppConnector.request({\n\t\t\t\t\tmodule: this.parentModuleName,\n\t\t\t\t\taction: 'RelationAjax',\n\t\t\t\t\tmode: 'updateFavoriteForRecord',\n\t\t\t\t\trecord: this.getParentId(),\n\t\t\t\t\trelcrmid: relcrmId,\n\t\t\t\t\trelatedModule: this.moduleName,\n\t\t\t\t\trelationId: this.getCompleteParams()['relationId'],\n\t\t\t\t\tactionMode: state ? 'delete' : 'add'\n\t\t\t\t})\n\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\tif (data.result) aDeferred.resolve(true);\n\t\t\t\t\t})\n\t\t\t\t\t.fail(function (error, err) {\n\t\t\t\t\t\taDeferred.reject(false);\n\t\t\t\t\t});\n\t\t\t} else {\n\t\t\t\taDeferred.reject(false);\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tupdatePreview: function (url) {\n\t\t\tlet frame = this.content.find('.listPreviewframe');\n\t\t\tthis.frameProgress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tmessage: app.vtranslate('JS_FRAME_IN_PROGRESS'),\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tif (this.relatedView === 'TreePreview') {\n\t\t\t\t// frame.attr('src', url.replace('view=Detail', 'action=DownloadFile') + '&show=true');\n\t\t\t\tframe.attr('src', url.replace('view=Detail', 'view=Preview'));\n\t\t\t} else {\n\t\t\t\tlet defaultView = '';\n\t\t\t\tif (app.getMainParams('defaultDetailViewName')) {\n\t\t\t\t\tdefaultView =\n\t\t\t\t\t\tdefaultView + '&mode=showDetailViewByMode&requestMode=' + app.getMainParams('defaultDetailViewName'); // full, summary\n\t\t\t\t}\n\t\t\t\tframe.attr('src', url.replace('view=Detail', 'view=DetailPreview') + defaultView);\n\t\t\t}\n\t\t},\n\t\tregisterUnreviewedCountEvent: function () {\n\t\t\tlet ids = [];\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet isUnreviewedActive = relatedContent.find('.unreviewed').length;\n\t\t\trelatedContent.find('tr.listViewEntries').each(function () {\n\t\t\t\tlet id = jQuery(this).data('id');\n\t\t\t\tif (id) {\n\t\t\t\t\tids.push(id);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!ids || isUnreviewedActive < 1) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tAppConnector.request({\n\t\t\t\taction: 'ChangesReviewedOn',\n\t\t\t\tmode: 'getUnreviewed',\n\t\t\t\tmodule: 'ModTracker',\n\t\t\t\tsourceModule: this.moduleName,\n\t\t\t\trecordsId: ids\n\t\t\t}).done(function (appData) {\n\t\t\t\tlet data = appData.result;\n\t\t\t\t$.each(data, function (id, value) {\n\t\t\t\t\tif (value.a > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.all')\n\t\t\t\t\t\t\t.text(value.a)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t\tif (value.m > 0) {\n\t\t\t\t\t\trelatedContent\n\t\t\t\t\t\t\t.find('tr[data-id=\"' + id + '\"] .unreviewed .badge.mail')\n\t\t\t\t\t\t\t.text(value.m)\n\t\t\t\t\t\t\t.parent()\n\t\t\t\t\t\t\t.removeClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterChangeEntityStateEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\trelatedContent.on('click', '.dropdownEntityState a', function (e) {\n\t\t\t\tlet element = $(this);\n\t\t\t\trelatedContent.find('.entityState').val(element.data('value'));\n\t\t\t\trelatedContent.find('.pagination').data('totalCount', 0);\n\t\t\t\trelatedContent\n\t\t\t\t\t.find('.dropdownEntityState button')\n\t\t\t\t\t.find('span')\n\t\t\t\t\t.attr('class', element.find('span').attr('class'));\n\t\t\t\tthisInstance.loadRelatedList({ page: 1 });\n\t\t\t});\n\t\t},\n\t\tregisterRowsEvent: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView === 'List' || this.relatedView === 'Detail') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tif ($(e.target).closest('div').hasClass('actions')) return;\n\t\t\t\t\tif ($(e.target).is('button') || $(e.target).parent().is('button') || $(e.target).is('a')) return;\n\t\t\t\t\tif ($(e.target).closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif ($(e.target).is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), e.target)) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), e.target)) return;\n\t\t\t\t\tlet recordUrl = $(e.target).closest('tr').data('recordurl');\n\t\t\t\t\tif (!recordUrl) return;\n\t\t\t\t\tif (app.getViewName() === 'DetailPreview') {\n\t\t\t\t\t\ttop.document.location.href = recordUrl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdocument.location.href = recordUrl;\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tthis.content.find('.js-toggle-hidden-row').on('click', function (e) {\n\t\t\t\t\tlet target = $(this);\n\t\t\t\t\tlet row = target.closest('tr');\n\t\t\t\t\tlet inventoryRow = row.next('.js-hidden-row');\n\t\t\t\t\tif (inventoryRow.length) {\n\t\t\t\t\t\tlet block = inventoryRow.find('.js-hidden-row__block[data-element=\"' + target.data('element') + '\"]');\n\t\t\t\t\t\tif (block.is(':visible') || !inventoryRow.is(':visible')) {\n\t\t\t\t\t\t\tinventoryRow.toggleClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinventoryRow.find('.js-hidden-row__block').addClass('d-none');\n\t\t\t\t\t\tblock.removeClass('d-none');\n\t\t\t\t\t\tif (block.is(':visible')) {\n\t\t\t\t\t\t\tself.registerWidgets(block);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'ListPreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t} else if (this.relatedView === 'TreePreview') {\n\t\t\t\tthis.content.find('.listViewEntries').on('click', function (e) {\n\t\t\t\t\tlet target = $(e.target);\n\t\t\t\t\tif (target.closest('div').hasClass('actions')) return;\n\t\t\t\t\tif (target.is('button') || target.parent().is('button')) return;\n\t\t\t\t\tif (target.closest('a').hasClass('noLinkBtn')) return;\n\t\t\t\t\tif ($(e.target, $(e.currentTarget)).is('td:first-child')) return;\n\t\t\t\t\tif (target.is('input[type=\"checkbox\"]')) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:last-child').get(0), target[0])) return;\n\t\t\t\t\tif ($.contains($(e.currentTarget).find('td:first-child').get(0), target[0])) return;\n\t\t\t\t\tlet recordUrl = $(this).data('recordurl');\n\t\t\t\t\tself.content.find('.listViewEntriesTable .listViewEntries').removeClass('active');\n\t\t\t\t\t$(this).addClass('active');\n\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t});\n\t\t\t}\n\t\t\tlet widgetsContainer = this.content.find('.js-hidden-row .js-hidden-row__block[data-element=\"widgets\"]');\n\t\t\tif (widgetsContainer.length) {\n\t\t\t\tself.registerWidgets(widgetsContainer);\n\t\t\t}\n\t\t},\n\t\tregisterWidgets: function (content) {\n\t\t\tlet widgetList = $('[class^=\"widgetContainer_\"]', content);\n\t\t\tlet detailInstance = Vtiger_Detail_Js.getInstance();\n\t\t\twidgetList.each(function (index, widget) {\n\t\t\t\twidget = $(widget);\n\t\t\t\tif (widget.is(':visible')) {\n\t\t\t\t\tdetailInstance.loadWidget(widget);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterSummationEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.on('click', '.listViewSummation button', function () {\n\t\t\t\tlet button = $(this);\n\t\t\t\tlet calculateValue = button.closest('td').find('.calculateValue');\n\t\t\t\tlet params = thisInstance.getCompleteParams();\n\t\t\t\tparams['action'] = 'RelationAjax';\n\t\t\t\tparams['mode'] = 'calculate';\n\t\t\t\tparams['fieldName'] = button.data('field');\n\t\t\t\tparams['calculateType'] = button.data('operator');\n\t\t\t\tdelete params['view'];\n\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\tmessage: app.vtranslate('JS_CALCULATING_IN_PROGRESS'),\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tapp.hidePopover(button);\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\tif (response.success) {\n\t\t\t\t\t\tcalculateValue.html(response.result);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcalculateValue.html('');\n\t\t\t\t\t}\n\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t});\n\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t});\n\t\t},\n\t\tregisterPreviewEvent: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet contentHeight = this.content.find('.js-detail-preview,.js-list-preview');\n\t\t\tif (this.relatedView !== 'TreePreview') {\n\t\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t\tcontentHeight.height($(this).contents().find('.bodyContents').height() + 2);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcontentHeight.height(app.getScreenHeight() - (this.content.offset().top + $('.js-footer').height()));\n\t\t\t\tthis.content.find('.listPreviewframe').on('load', function () {\n\t\t\t\t\tif (thisInstance.frameProgress) {\n\t\t\t\t\t\tthisInstance.frameProgress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$(window).on('resize', function() {\n\t\t\t\t\tlet oldHeight = contentHeight.height();\n\t\t\t\t\tlet newHeight = app.getScreenHeight() - (thisInstance.content.offset().top + $('.js-footer').height());\n\t\t\t\t\tif (Math.abs(oldHeight - newHeight) > 10) {\n\t\t\t\t\t\tcontentHeight.height(newHeight);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.content.find('.listViewEntriesTable .listViewEntries').first().trigger('click');\n\t\t},\n\t\tregisterPaginationEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tlet relatedContent = this.content;\n\t\t\tthis.content.on('click', '#relatedViewNextPageButton', function (e) {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.nextPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedViewPreviousPageButton', function () {\n\t\t\t\tthisInstance.previousPageHandler();\n\t\t\t});\n\t\t\tthis.content.on('click', '#relatedListPageJump', function (e) {\n\t\t\t\tthisInstance.getRelatedPageCount();\n\t\t\t});\n\t\t\tthis.content\n\t\t\t\t.on('click', '#relatedListPageJumpDropDown > li', function (e) {\n\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t})\n\t\t\t\t.on('keypress', '#pageToJump', function (e) {\n\t\t\t\t\tthisInstance.pageJumpHandler(e);\n\t\t\t\t});\n\t\t\tthis.content.on('click', '.pageNumber', function () {\n\t\t\t\tif ($(this).hasClass('disabled')) {\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t\tthisInstance.selectPageHandler($(this).data('id'));\n\t\t\t});\n\t\t\tthis.content.on('click', '#totalCountBtn', function () {\n\t\t\t\tapp.hidePopover($(this));\n\t\t\t\tlet params = {\n\t\t\t\t\tmodule: thisInstance.parentModuleName,\n\t\t\t\t\tview: 'Pagination',\n\t\t\t\t\tmode: 'getRelationPagination',\n\t\t\t\t\trecord: thisInstance.getParentId(),\n\t\t\t\t\trelatedModule: thisInstance.moduleName,\n\t\t\t\t\tnoOfEntries: $('#noOfEntries', relatedContent).val(),\n\t\t\t\t\tpage: relatedContent.find('[name=\"currentPageNum\"]').val()\n\t\t\t\t};\n\t\t\t\tif (relatedContent.find('.entityState').length) {\n\t\t\t\t\tparams['entityState'] = relatedContent.find('.entityState').val();\n\t\t\t\t}\n\t\t\t\tAppConnector.request(params).done(function (response) {\n\t\t\t\t\trelatedContent.find('.paginationDiv').html(response);\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterListEvents: function () {\n\t\t\tlet relatedContent = this.content;\n\t\t\tlet thisInstance = this;\n\t\t\tthis.content.find('a.favorites').on('click', function (e) {\n\t\t\t\tlet progressInstance = jQuery.progressIndicator({\n\t\t\t\t\tposition: 'html',\n\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\tenabled: true\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tlet element = $(this);\n\t\t\t\tlet row = element.closest('tr');\n\t\t\t\tthisInstance.favoritesRelation(row.data('id'), element.data('state')).done(function (response) {\n\t\t\t\t\tif (response) {\n\t\t\t\t\t\tlet state = element.data('state') ? 0 : 1;\n\t\t\t\t\t\telement.data('state', state);\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\telement.find('.far').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.fas').removeClass('d-none');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\telement.find('.fas').addClass('d-none');\n\t\t\t\t\t\t\telement.find('.far').removeClass('d-none');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tprogressInstance.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\tlet text = app.vtranslate('JS_REMOVED_FROM_FAVORITES');\n\t\t\t\t\t\tif (state) {\n\t\t\t\t\t\t\ttext = app.vtranslate('JS_ADDED_TO_FAVORITES');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tapp.showNotify({ text: text, type: 'success' });\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('[name=\"addButton\"]').on('click', function (e) {\n\t\t\t\tconst element = $(this);\n\t\t\t\tif (element.hasClass('quickCreateSupported') !== true) {\n\t\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthisInstance.addRelatedRecord(element);\n\t\t\t});\n\t\t\tthis.content.find('.openParent').on('click', function (e) {\n\t\t\t\tconst element = $(this);\n\t\t\t\tapp.openUrl(element.data('url'));\n\t\t\t});\n\t\t\tthis.content.find('.relatedHeader button.selectRelation').on('click', function (e) {\n\t\t\t\tlet restrictionsField = $(this).data('rf');\n\t\t\t\tlet params = {\n\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t};\n\t\t\t\tif (restrictionsField && Object.keys(restrictionsField).length > 0) {\n\t\t\t\t\tparams = {\n\t\t\t\t\t\tsearch_key: restrictionsField.key,\n\t\t\t\t\t\tsearch_value: restrictionsField.name,\n\t\t\t\t\t\trelationId: thisInstance.getCompleteParams()['relationId']\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\tthisInstance.showSelectRelation(params);\n\t\t\t});\n\t\t\tthis.content.find('button.relationDelete').on('click', function (e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\tlet target = $(e.currentTarget);\n\t\t\t\tlet params = {};\n\t\t\t\tif (target.data('confirm')) {\n\t\t\t\t\tparams.message = target.data('confirm');\n\t\t\t\t\tparams.title = target.html() + ' ' + target.data('content');\n\t\t\t\t} else if (target.data('content')) {\n\t\t\t\t\tparams.message = target.data('content');\n\t\t\t\t} else {\n\t\t\t\t\tparams.message = app.vtranslate('JS_DELETE_CONFIRMATION');\n\t\t\t\t}\n\t\t\t\tVtiger_Helper_Js.showConfirmationBox(params).done(function () {\n\t\t\t\t\tthisInstance.deleteRelation(target);\n\t\t\t\t});\n\t\t\t});\n\t\t\tthis.content.find('.js-switch--calendar,select.js-relation-cv-id').on('change', function (e) {\n\t\t\t\tthisInstance.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\tregisterPostLoadEvents: function () {\n\t\t\tlet thisInstance = this;\n\t\t\tthis.registerRowsEvent();\n\t\t\tthis.registerListScroll();\n\t\t\tthis.registerTree();\n\t\t\tif (this.relatedView === 'ListPreview' || this.relatedView === 'TreePreview') {\n\t\t\t\tthis.registerPreviewEvent();\n\t\t\t\tif (!this.content.find('.gutter').length) {\n\t\t\t\t\tif (!this.content.find('.js-list-preview').length) return;\n\t\t\t\t\tthis.setDomParams(this.content);\n\t\t\t\t\tthis.toggleSplit(this.content);\n\t\t\t\t\tif (this.relatedView === 'ListPreview') {\n\t\t\t\t\t\tthis.registerListPreviewEvents();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (this.content.find('.listViewSearchTd [data-trigger=\"listSearch\"]').length) {\n\t\t\t\tthis.listSearchInstance = YetiForce_ListSearch_Js.getInstance(this.content, false, this);\n\t\t\t} else {\n\t\t\t\tthis.listSearchInstance = false;\n\t\t\t}\n\t\t\tapp.event.trigger('RelatedList.AfterLoad', thisInstance);\n\t\t},\n\t\tgetSecondColMinWidth: function (container) {\n\t\t\tlet maxWidth = 0,\n\t\t\t\tthisWidth;\n\t\t\tcontainer.find('.js-list__row').each(function (i) {\n\t\t\t\tthisWidth = $(this).find('.js-list__field').first().width();\n\t\t\t\tif (i === 0) {\n\t\t\t\t\tmaxWidth = thisWidth;\n\t\t\t\t} else {\n\t\t\t\t\tthisWidth > maxWidth ? (maxWidth = thisWidth) : maxWidth;\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn maxWidth;\n\t\t},\n\t\tsetDomParams: function (container) {\n\t\t\tthis.listColumnFirstWidth = container.find('.listViewEntriesDiv .listViewHeaders th').first().width();\n\t\t\tthis.listColumnSecondWidth = this.getSecondColMinWidth(container);\n\t\t\tthis.windowW = $(window).width();\n\t\t\tthis.mainBody = container.closest('.mainBody');\n\t\t\tthis.windowMinWidth = (15 / this.windowW) * 100;\n\t\t\tthis.windowMaxWidth = 100 - this.minWidth;\n\t\t\tthis.sideBlocks = container.find('.js-side-block');\n\t\t\tthis.sideBlockLeft = this.sideBlocks.first();\n\t\t\tthis.sideBlockRight = this.sideBlocks.last();\n\t\t\tthis.list = container.find('.js-list-preview');\n\t\t\tthis.preview = container.find('.js-detail-preview');\n\t\t\tthis.rotatedText = container.find('.u-rotate-90');\n\t\t\tthis.footerH = $('.js-footer').outerHeight();\n\t\t\tthis.headerH = $('.js-header').outerHeight();\n\t\t},\n\t\tgetDefaultSplitSizes: function () {\n\t\t\tlet thWidth = ((this.listColumnFirstWidth + this.listColumnSecondWidth + 82) / this.windowW) * 100;\n\t\t\tif (isNaN(thWidth)) {\n\t\t\t\tthWidth = 34;\n\t\t\t}\n\t\t\treturn [thWidth, 100 - thWidth];\n\t\t},\n\t\tgetSplitSizes() {\n\t\t\tconst cachedParams = app.moduleCacheGet('userRelatedSplitSet');\n\t\t\tif (cachedParams !== undefined) {\n\t\t\t\treturn cachedParams;\n\t\t\t} else {\n\t\t\t\treturn this.getDefaultSplitSizes();\n\t\t\t}\n\t\t},\n\t\tregisterListPreviewEvents() {\n\t\t\tapp.showNewScrollbarTopBottom(this.content.find('.js-list-preview--scroll'));\n\t\t\tapp.showNewScrollbarLeft(this.list);\n\t\t\tthis.list.on('click', '.listViewEntries', () => {\n\t\t\t\tif (this.split.getSizes()[1] < 10) {\n\t\t\t\t\tconst defaultGutterPosition = this.getDefaultSplitSizes();\n\t\t\t\t\tthis.split.setSizes(defaultGutterPosition);\n\t\t\t\t\tthis.preview.show();\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', defaultGutterPosition);\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.registerScrollEvent();\n\t\t\t}\n\t\t},\n\t\tregisterScrollEvent() {\n\t\t\tthis.gutter.addClass('js-fixed-scroll');\n\t\t\tlet scrollContainer = App.Components.Scrollbar.page.element;\n\t\t\tlet listOffsetTop = this.list.offset().top - this.headerH;\n\t\t\tlet initialH = this.sideBlocks.height();\n\t\t\tlet mainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\tlet mainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\tlet fixedElements = this.mainBody.find('.js-fixed-scroll');\n\t\t\tif (!this.mainBody.length) {\n\t\t\t\tthis.mainBody = $(top.document).find('.mainBody');\n\t\t\t\tthis.headerH = $(top.document).find('.js-header').outerHeight();\n\t\t\t\tscrollContainer = top.window.App.Components.Scrollbar.page.element;\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tlistOffsetTop = this.list.offset().top + iframe.offset().top - this.headerH + 1;\n\t\t\t\tmainViewPortHeightCss = { height: this.mainBody.height() };\n\t\t\t\tmainViewPortWidthCss = { width: this.mainBody.height() };\n\t\t\t}\n\t\t\tconst onScroll = () => {\n\t\t\t\tif (scrollContainer.scrollTop() >= listOffsetTop) {\n\t\t\t\t\tfixedElements.css({ top: scrollContainer.scrollTop() - listOffsetTop });\n\t\t\t\t\tthis.sideBlocks.css({ top: scrollContainer.scrollTop() - listOffsetTop + 56 });\n\t\t\t\t\tfixedElements.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortHeightCss);\n\t\t\t\t\tthis.rotatedText.css(mainViewPortWidthCss);\n\t\t\t\t} else {\n\t\t\t\t\tfixedElements.css({ top: 'initial' });\n\t\t\t\t\tfixedElements.css({ height: initialH + scrollContainer.scrollTop() });\n\t\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\t\twidth: initialH + scrollContainer.scrollTop(),\n\t\t\t\t\t\theight: initialH + scrollContainer.scrollTop()\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t};\n\t\t\tscrollContainer.on('scroll', onScroll);\n\t\t},\n\t\t/**\n\t\t * Registers split's events.\n\t\t * @param {jQuery} container - current container for reference.\n\t\t * @param {Split} split - a split object.\n\t\t */\n\t\tregisterSplitEvents: function (container, split) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tlet minWindowWidth = (23 / this.windowW) * 100;\n\t\t\tlet maxWindowWidth = 100 - minWindowWidth;\n\t\t\tlet listPreview = container.find('.js-detail-preview');\n\t\t\tthis.gutter.on('dblclick', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (isNaN(this.split.getSizes()[0])) {\n\t\t\t\t\tthis.split.setSizes(gutterRelatedMidPosition);\n\t\t\t\t}\n\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t} else if (split.getSizes()[1] < 20) {\n\t\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t\t}\n\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\tlistPreview.show();\n\t\t\t\t} else if (split.getSizes()[0] > 7 && split.getSizes()[0] < 50) {\n\t\t\t\t\tsplit.setSizes([minWindowWidth, maxWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t} else if (split.getSizes()[1] > 10 && split.getSizes()[1] < 50) {\n\t\t\t\t\tsplit.setSizes([maxWindowWidth, minWindowWidth]);\n\t\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\tlistPreview.hide();\n\t\t\t\t\t//this.list.width(this.list.width() - 10);\n\t\t\t\t}\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockLeft.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[0] > 11) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t\tthis.sideBlockRight.on('click', () => {\n\t\t\t\tlet gutterRelatedMidPosition = app.moduleCacheGet('gutterRelatedMidPosition');\n\t\t\t\tif (gutterRelatedMidPosition[1] > rightSplitMaxWidth + 1) {\n\t\t\t\t\tsplit.setSizes(gutterRelatedMidPosition);\n\t\t\t\t} else {\n\t\t\t\t\tsplit.setSizes(this.getDefaultSplitSizes());\n\t\t\t\t}\n\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\tlistPreview.show();\n\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t});\n\t\t},\n\t\tregisterSplit: function (container) {\n\t\t\tlet rightSplitMaxWidth = (400 / this.windowW) * 100;\n\t\t\tconst splitSizes = this.getSplitSizes();\n\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', splitSizes);\n\t\t\tlet split = Split([this.list[0], this.preview[0]], {\n\t\t\t\tsizes: splitSizes,\n\t\t\t\tminSize: 10,\n\t\t\t\tgutterSize: 24,\n\t\t\t\tsnapOffset: 100,\n\t\t\t\tonDrag: () => {\n\t\t\t\t\tif (split.getSizes()[1] < rightSplitMaxWidth) {\n\t\t\t\t\t\tsplit.collapse(1);\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] < 7) {\n\t\t\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-left');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t\tthis.list.removeClass('u-hide-underneath');\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[1] < 10) {\n\t\t\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\t\t\tthis.preview.hide();\n\t\t\t\t\t\tthis.list.width(this.list.width() - 10);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.gutter.removeClass('js-gutter-corr-right');\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.preview.show();\n\t\t\t\t\t}\n\t\t\t\t\tif (split.getSizes()[0] > 10 && split.getSizes()[1] > rightSplitMaxWidth) {\n\t\t\t\t\t\tapp.moduleCacheSet('gutterRelatedMidPosition', split.getSizes());\n\t\t\t\t\t}\n\t\t\t\t\tapp.moduleCacheSet('userRelatedSplitSet', split.getSizes());\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.gutter = container.find('.gutter');\n\t\t\tif (splitSizes[0] < 10) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-left');\n\t\t\t\tthis.sideBlockLeft.addClass('d-block');\n\t\t\t\tthis.list.addClass('u-hide-underneath');\n\t\t\t} else if (splitSizes[1] < rightSplitMaxWidth) {\n\t\t\t\tthis.gutter.addClass('js-gutter-corr-right');\n\t\t\t\tthis.sideBlockRight.addClass('d-block');\n\t\t\t\tthis.preview.hide();\n\t\t\t}\n\t\t\tlet mainWindowHeightCss = {\n\t\t\t\theight: $(window).height() - this.list.offset().top - this.footerH\n\t\t\t};\n\t\t\tif (!container.closest('.mainBody').length) {\n\t\t\t\tlet mainBody = $(top.document).find('.mainBody').height();\n\t\t\t\tlet iframe = $(top.document).find('.js-detail-preview');\n\t\t\t\tmainWindowHeightCss = {\n\t\t\t\t\theight: mainBody - this.list.offset().top - iframe.offset().top + 50\n\t\t\t\t};\n\t\t\t}\n\t\t\tif (!this.list.parents('.blockContent').length) {\n\t\t\t\tthis.gutter.css(mainWindowHeightCss);\n\t\t\t\tthis.list.css(mainWindowHeightCss);\n\t\t\t\tthis.sideBlocks.css(mainWindowHeightCss);\n\t\t\t\tthis.rotatedText.css({\n\t\t\t\t\twidth: this.sideBlockLeft.height(),\n\t\t\t\t\theight: this.sideBlockLeft.height()\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.registerSplitEvents(container, split);\n\t\t\treturn split;\n\t\t},\n\t\ttoggleSplit: function (container) {\n\t\t\tlet commactHeight = container.closest('.commonActionsContainer').height();\n\t\t\tlet splitsArray = [];\n\t\t\tthis.split = this.registerSplit(container);\n\t\t\tsplitsArray.push(this.split);\n\t\t\t$(window).on('resize', () => {\n\t\t\t\tif ($(window).width() < 993) {\n\t\t\t\t\tif (container.find('.gutter').length) {\n\t\t\t\t\t\tsplitsArray[splitsArray.length - 1].destroy();\n\t\t\t\t\t\tthis.sideBlockRight.removeClass('d-block');\n\t\t\t\t\t\tthis.sideBlockLeft.removeClass('d-block');\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (container.find('.gutter').length !== 1) {\n\t\t\t\t\t\tthis.split = this.registerSplit(container);\n\t\t\t\t\t\tlet gutter = container.find('.gutter');\n\t\t\t\t\t\tif (this.mainBody.scrollTop() >= this.list.offset().top + commactHeight) {\n\t\t\t\t\t\t\tgutter.addClass('gutterOnScroll');\n\t\t\t\t\t\t\tgutter.css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\tgutter.on('mousedown', function () {\n\t\t\t\t\t\t\t\t$(this).on('mousemove', function (e) {\n\t\t\t\t\t\t\t\t\t$(this).css('left', this.preview.offset().left - 8);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tsplitsArray.push(this.split);\n\t\t\t\t\t}\n\t\t\t\t\tlet currentSplit = splitsArray[splitsArray.length - 1];\n\t\t\t\t\tlet minWidth = (15 / $(window).width()) * 100;\n\t\t\t\t\tlet maxWidth = 100 - minWidth;\n\t\t\t\t\tif (typeof currentSplit === 'undefined') return;\n\t\t\t\t\tif (currentSplit.getSizes()[0] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([minWidth, maxWidth]);\n\t\t\t\t\t} else if (currentSplit.getSizes()[1] < minWidth + 5) {\n\t\t\t\t\t\tcurrentSplit.setSizes([maxWidth, minWidth]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterListScroll: function () {\n\t\t\tlet container = $('.listViewEntriesDiv');\n\t\t\tif (this.relatedView !== 'ListPreview' && this.relatedView !== 'TreePreview' && Quasar.plugins.Platform.is.desktop) {\n\t\t\t\tcontainer.each((index, element) => {\n\t\t\t\t\tif (container.closest('.js-detail-widget-content').length) {\n\t\t\t\t\t\telement = container.closest('.js-detail-widget-content');\n\t\t\t\t\t\telement.each((i, el) => {\n\t\t\t\t\t\t\tApp.Components.Scrollbar.xy($(el));\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tApp.Components.Scrollbar.xy($(element));\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tgetRecordsCount: function () {\n\t\t\tlet aDeferred = $.Deferred(),\n\t\t\t\trecordCountVal = $('#recordsCount').val();\n\t\t\tif (recordCountVal != '') {\n\t\t\t\taDeferred.resolve(recordCountVal);\n\t\t\t} else {\n\t\t\t\tlet params = this.getCompleteParams();\n\t\t\t\tdelete params.view;\n\t\t\t\tparams.action = 'DetailAjax';\n\t\t\t\tparams.mode = 'getRecordsCount';\n\t\t\t\tAppConnector.request(params).done(function (data) {\n\t\t\t\t\t$('#recordsCount').val(data['result']['count']);\n\t\t\t\t\taDeferred.resolve(data['result']['count']);\n\t\t\t\t});\n\t\t\t}\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tnoRecordSelectedAlert: function (text = 'JS_PLEASE_SELECT_ONE_RECORD') {\n\t\t\tapp.showNotify({\n\t\t\t\ttext: app.vtranslate(text),\n\t\t\t\ttype: 'error'\n\t\t\t});\n\t\t},\n\t\tgetCurrentCvId: function () {\n\t\t\treturn $('#customFilter').find('option:selected').data('id');\n\t\t},\n\t\tcheckListRecordSelected: function (minNumberOfRecords = 1) {\n\t\t\tlet selectedIds = this.readSelectedIds();\n\t\t\tif (typeof selectedIds === 'object' && selectedIds.length < minNumberOfRecords) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\treadSelectedIds: function (decode) {\n\t\t\tlet selectedIds = [];\n\t\t\tif (this.relatedView === 'TreePreview') {\n\t\t\t\tlet selectedNodes = $('#treeContents').jstree('get_selected', true);\n\t\t\t\tfor (let i = 0; i < selectedNodes.length; i++) {\n\t\t\t\t\tif (selectedNodes[i].li_attr['data-recordurl']) {\n\t\t\t\t\t\tselectedIds.push(selectedNodes[i].id);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tlet selectedIdsDataAttr = this.getCurrentCvId() + 'selectedIds',\n\t\t\t\t\tselectedIdsElementDataAttributes = $('#selectedIds').data();\n\t\t\t\tif (!(selectedIdsDataAttr in selectedIdsElementDataAttributes)) {\n\t\t\t\t\tthis.writeSelectedIds(selectedIds);\n\t\t\t\t} else {\n\t\t\t\t\tselectedIds = selectedIdsElementDataAttributes[selectedIdsDataAttr];\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (decode == true && typeof selectedIds == 'object') {\n\t\t\t\treturn JSON.stringify(selectedIds);\n\t\t\t}\n\t\t\treturn selectedIds;\n\t\t},\n\t\twriteSelectedIds: function (selectedIds) {\n\t\t\tif (!Array.isArray(selectedIds)) {\n\t\t\t\tselectedIds = [selectedIds];\n\t\t\t}\n\t\t\t$('#selectedIds').data(this.getCurrentCvId() + 'selectedIds', selectedIds);\n\t\t},\n\t\treadExcludedIds: function (decode) {\n\t\t\tlet excludedIdsDataAttr = this.getCurrentCvId() + 'Excludedids',\n\t\t\t\texcludedIdsElementDataAttributes = $('#excludedIds').data(),\n\t\t\t\texcludedIds = [];\n\t\t\tif (!(excludedIdsDataAttr in excludedIdsElementDataAttributes)) {\n\t\t\t\tthis.writeExcludedIds(excludedIds);\n\t\t\t} else {\n\t\t\t\texcludedIds = excludedIdsElementDataAttributes[excludedIdsDataAttr];\n\t\t\t}\n\t\t\tif (decode == true && typeof excludedIds == 'object') {\n\t\t\t\treturn JSON.stringify(excludedIds);\n\t\t\t}\n\t\t\treturn excludedIds;\n\t\t},\n\t\twriteExcludedIds: function (excludedIds) {\n\t\t\t$('#excludedIds').data(this.getCurrentCvId() + 'Excludedids', excludedIds);\n\t\t},\n\t\tcheckSelectAll: function () {\n\t\t\tlet state = true;\n\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\tif ($(element).is(':checked')) {\n\t\t\t\t\tstate = true;\n\t\t\t\t} else {\n\t\t\t\t\tstate = false;\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', state);\n\t\t\treturn state;\n\t\t},\n\t\tregisterCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '.relatedListViewEntriesCheckBox', function (e) {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds(),\n\t\t\t\t\telem = $(e.currentTarget);\n\t\t\t\tif (elem.is(':checked')) {\n\t\t\t\t\telem.closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.splice($.inArray(elem.val(), excludedIds), 1);\n\t\t\t\t\t} else if ($.inArray(elem.val(), selectedIds) == -1) {\n\t\t\t\t\t\tselectedIds.push(elem.val());\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\telem.closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\texcludedIds.push(elem.val());\n\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tselectedIds.splice($.inArray(elem.val(), selectedIds), 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tself.checkSelectAll();\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterMainCheckBoxClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tthis.getRelatedContainer().on('click', '#relatedListViewEntriesMainCheckBox', function () {\n\t\t\t\tlet selectedIds = self.readSelectedIds(),\n\t\t\t\t\texcludedIds = self.readExcludedIds();\n\t\t\t\tif ($('#relatedListViewEntriesMainCheckBox').is(':checked')) {\n\t\t\t\t\tlet progress = $.progressIndicator({ blockInfo: { enabled: true } });\n\t\t\t\t\tlet recordCountObj = self.getRecordsCount();\n\t\t\t\t\trecordCountObj\n\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t$('#totalRecordsCount').text(data);\n\t\t\t\t\t\t\tif ($('#deSelectAllMsgDiv').css('display') == 'none') {\n\t\t\t\t\t\t\t\t$('#selectAllMsgDiv').show();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t});\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all' && $.inArray($(element).val(), excludedIds) != -1) {\n\t\t\t\t\t\t\texcludedIds.splice($.inArray($(element).val(), excludedIds), 1);\n\t\t\t\t\t\t} else if ($.inArray($(element).val(), selectedIds) == -1) {\n\t\t\t\t\t\t\tselectedIds.push($(element).val());\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t\t\tif (selectedIds == 'all') {\n\t\t\t\t\t\t\texcludedIds.push($(element).val());\n\t\t\t\t\t\t\tselectedIds = 'all';\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tselectedIds.splice($.inArray($(element).val(), selectedIds), 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tself.writeSelectedIds(selectedIds);\n\t\t\t\tself.writeExcludedIds(excludedIds);\n\t\t\t});\n\t\t},\n\t\tregisterSelectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#selectAllMsg', function () {\n\t\t\t\t$('#selectAllMsgDiv').hide();\n\t\t\t\t$('#deSelectAllMsgDiv').show();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', true);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', true).closest('tr').addClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds('all');\n\t\t\t});\n\t\t},\n\t\tregisterDeselectAllClickEvent: function () {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '#deSelectAllMsg', function () {\n\t\t\t\t$('#deSelectAllMsgDiv').hide();\n\t\t\t\t$('#relatedListViewEntriesMainCheckBox').prop('checked', false);\n\t\t\t\t$('.relatedListViewEntriesCheckBox').each(function (index, element) {\n\t\t\t\t\t$(this).prop('checked', false).closest('tr').removeClass('highlightBackgroundColor');\n\t\t\t\t});\n\t\t\t\tself.writeSelectedIds([]);\n\t\t\t\tself.writeExcludedIds([]);\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register quick edit save event description.\n\t\t */\n\t\tregisterQuickEditSaveEvent() {\n\t\t\tapp.event.on('QuickEdit.AfterSaveFinal', (e, data, instance, element) => {\n\t\t\t\tif (this.moduleName === instance.data('moduleName')) {\n\t\t\t\t\tif (element.closest('.js-detail-widget').length) {\n\t\t\t\t\t\tVtiger_Detail_Js.getInstance().postSummaryWidgetAddRecord(data, element);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.loadRelatedList();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register change related view.\n\t\t */\n\t\tregisterChangeViewEvent() {\n\t\t\tconst self = this;\n\t\t\tself.getRelatedContainer().on('click', '.js-change-related-view', function () {\n\t\t\t\tself.relatedView = this.dataset.view;\n\t\t\t\tself.loadRelatedList();\n\t\t\t});\n\t\t},\n\t\tregisterTree: function () {\n\t\t\tconst self = this;\n\t\t\tif (this.relatedView !== 'TreePreview') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfunction setupTree(treeInstance, data) {\n\t\t\t\ttreeInstance.jstree({\n\t\t\t\t\tcore: {\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tthemes: {\n\t\t\t\t\t\t\tname: 'proton',\n\t\t\t\t\t\t\tresponsive: true,\n\t\t\t\t\t\t\ticons: true\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tcheckbox: {\n\t\t\t\t\t\tthree_state: true,\n\t\t\t\t\t\tkeep_selected_style: false,\n\t\t\t\t\t\twhole_node: false\n\t\t\t\t\t},\n\t\t\t\t\tcontextmenu: {\n\t\t\t\t\t\tselect_node: false,\n\t\t\t\t\t\tshow_at_node: false,\n\t\t\t\t\t\titems: function (node) {\n\t\t\t\t\t\t\tif (node.li_attr['data-recordurl']) {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t'quick-edit': {\n\t\t\t\t\t\t\t\t\t\tlabel: 'Quick Edit',\n\t\t\t\t\t\t\t\t\t\ticon: 'yfi yfi-quick-creation',\n\t\t\t\t\t\t\t\t\t\taction: function (params) {\n\t\t\t\t\t\t\t\t\t\t\tlet item = treeInstance.jstree().get_node(params.reference);\n\t\t\t\t\t\t\t\t\t\t\tlet element = params.reference;\n\t\t\t\t\t\t\t\t\t\t\tlet data = {\n\t\t\t\t\t\t\t\t\t\t\t\tmodule: 'Documents',\n\t\t\t\t\t\t\t\t\t\t\t\trecord: item.id,\n\t\t\t\t\t\t\t\t\t\t\t\tremoveFromUrl: 'step'\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tApp.Components.QuickEdit.showModal(data, element);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'email-attachment': {\n\t\t\t\t\t\t\t\t\t\tlabel: 'Email file as attachment',\n\t\t\t\t\t\t\t\t\t\ticon: 'fas fa-envelope',\n\t\t\t\t\t\t\t\t\t\taction: function (params) {\n\t\t\t\t\t\t\t\t\t\t\tlet item = treeInstance.jstree().get_node(params.reference);\n\t\t\t\t\t\t\t\t\t\t\twindow.open('index.php?module=OSSMail&view=Compose&type=new&crmModule=' + self.parentModuleName + '&crmRecord=' + self.parentRecordId + '&attachments=' + item.id, '_blank', 'height=750,width=' + Math.max($(window).width() - 300, 600));\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'trash': {\n\t\t\t\t\t\t\t\t\t\tlabel: 'Move to Recycle Bin',\n\t\t\t\t\t\t\t\t\t\ticon: 'fas fa-trash-alt',\n\t\t\t\t\t\t\t\t\t\taction: function (params) {\n\t\t\t\t\t\t\t\t\t\t\tlet item = treeInstance.jstree().get_node(params.reference);\n\n\t\t\t\t\t\t\t\t\t\t\tlet confirmParams = {\n\t\t\t\t\t\t\t\t\t\t\t\tmessage: 'Moving a record to Recycle Bin only changes the record&#039;s state without changing the rest of information. Are you sure you want to move the record?.',\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: '<span class=\"fas fa-trash-alt \"></span> Move to Recycle Bin'\n\t\t\t\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showConfirmationBox(confirmParams).done(function (e) {\n\t\t\t\t\t\t\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\tAppConnector.request('index.php?module=Documents&action=State&state=Trash&record=' + item.id).done(function (data) {\n\t\t\t\t\t\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tmode: 'hide'\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (data && data.success) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (data.result.notify) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tVtiger_Helper_Js.showMessage(data.result.notify);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tVtiger_Detail_Js.reloadRelatedList();\n\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttext: app.vtranslate(data.error.message),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttitle: app.vtranslate('JS_LBL_PERMISSION'),\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\treturn {\n\t\t\t\t\t\t\t\t\t'quick-add': {\n\t\t\t\t\t\t\t\t\t\tlabel: 'Add document',\n\t\t\t\t\t\t\t\t\t\ticon: 'fas fa-plus',\n\t\t\t\t\t\t\t\t\t\taction: function (params) {\n\t\t\t\t\t\t\t\t\t\t\tlet item = treeInstance.jstree().get_node(params.reference);\n\t\t\t\t\t\t\t\t\t\t\tlet element = self.content.find('[name=\"addButton\"]');\n\t\t\t\t\t\t\t\t\t\t\tlet additionalParams = '';\n\t\t\t\t\t\t\t\t\t\t\tlet recordUrl = item.li_attr['data-recordurl'];\n\t\t\t\t\t\t\t\t\t\t\tif (!recordUrl) {\n\t\t\t\t\t\t\t\t\t\t\t\tadditionalParams = 'document_type=' + item.id;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tself.addRelatedRecord(element, undefined, additionalParams);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t'mass-add': {\n\t\t\t\t\t\t\t\t\t\tlabel: 'Mass add',\n\t\t\t\t\t\t\t\t\t\ticon: 'yfi-document-templates',\n\t\t\t\t\t\t\t\t\t\taction: function (params) {\n\t\t\t\t\t\t\t\t\t\t\tlet item = treeInstance.jstree().get_node(params.reference);\n\t\t\t\t\t\t\t\t\t\t\tlet additionalParams = {};\n\t\t\t\t\t\t\t\t\t\t\tlet recordUrl = item.li_attr['data-recordurl'];\n\t\t\t\t\t\t\t\t\t\t\tif (!recordUrl) {\n\t\t\t\t\t\t\t\t\t\t\t\tadditionalParams = { 'document_type': item.id };\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tVtiger_Index_Js.massAddDocuments(\"index.php?module=Documents&view=MassAddDocuments\", additionalParams);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t\tsort: function (node1id, node2id) {\n\t\t\t\t\t\tlet node1 = this.get_node(node1id);\n\t\t\t\t\t\tlet node1t = node1.text;\n\t\t\t\t\t\tlet node1v = node1t.replace('&nbsp;', ' ').trim();\n\t\t\t\t\t\tlet node1f = !!node1.li_attr && !!node1.li_attr['data-recordurl'];\n\t\t\t\t\t\tlet node2 = this.get_node(node2id);\n\t\t\t\t\t\tlet node2t = node2.text;\n\t\t\t\t\t\tlet node2v = node2t.replace('&nbsp;', ' ').trim();\n\t\t\t\t\t\tlet node2f = !!node2.li_attr && !!node2.li_attr[\"data-recordurl\"];\n\n\t\t\t\t\t\tif (node1f === node2f) {\n\t\t\t\t\t\t\treturn node1v > node2v ? 1 : ( node1v < node2v ? -1 : ( node1t > node2t ? 1 : ( node1t < node2t ? -1 : 0 ) ) );\n\t\t\t\t\t\t} else if (node1f) {\n\t\t\t\t\t\t\treturn 1;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn -1;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tplugins: ['checkbox', 'contextmenu', 'sort']\n\t\t\t\t});\n\t\t\t\ttreeInstance.on('activate_node.jstree', function (event, params) {\n\t\t\t\t\tlet recordUrl = params.node.li_attr['data-recordurl'];\n\t\t\t\t\tif (recordUrl) {\n\t\t\t\t\t\tparams.instance.element.find('.jstree-selected').removeClass('jstree-selected');\n\t\t\t\t\t\tparams.instance.get_node(params.node, true).find('.jstree-anchor').addClass('jstree-selected');\n\t\t\t\t\t\tself.updatePreview(recordUrl);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\ttreeInstance.on('ready.jstree', function (event, params) {\n\t\t\t\t\tconst nodes = self.content.find(\".jstree-node[role='none']\");\n\t\t\t\t\tnodes.on('dragenter', function (e) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tnodes.on('dragover', function (e) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t});\n\t\t\t\t\tnodes.on('drop', function (e) { \n\t\t\t\t\t\te.stopPropagation();\n        \t\te.preventDefault();\n\n\t\t\t\t\t\tif (!e.originalEvent.dataTransfer.files.length) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n \n\t\t\t\t\t\tlet formData = new FormData();\n\t\t\t\t\t\tformData.append('module', 'Documents');\n\t\t\t\t\t\tformData.append('action', 'MassAdd');\n\t\t\t\t\t\tformData.append('createmode', 'link');\n\t\t\t\t\t\tformData.append('return_module', app.getModuleName());\n\t\t\t\t\t\tformData.append('return_id', app.getRecordId());\n\t\t\t\t\t\tformData.append('relation_id', Vtiger_Detail_Js.getInstance().getContentHolder().find('#relationId').val());\n\t\t\t\t\t\tif (!e.currentTarget.attributes['data-recordurl']) {\n\t\t\t\t\t\t\tformData.append('document_type', e.currentTarget.attributes['id'].value);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tlet parentId = $(e.currentTarget).parents('li.jstree-node').attr('id');\n\t\t\t\t\t\t\tif (parentId && parentId !== '#') {\n\t\t\t\t\t\t\t\tformData.append('document_type', parentId);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tfor(let i = 0; i < e.originalEvent.dataTransfer.files.length; i++) {\n\t\t\t\t\t\t\tformData.append('file[]', e.originalEvent.dataTransfer.files[i]);\n\t\t\t\t\t\t\tformData.append('nameFile[]', e.originalEvent.dataTransfer.files[i].name);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tlet params = {\n\t\t\t\t\t\t\turl: 'index.php?module=Documents&view=MassAddDocuments',\n\t\t\t\t\t\t\ttype: 'POST',\n\t\t\t\t\t\t\tdata: formData,\n\t\t\t\t\t\t\tprocessData: false,\n\t\t\t\t\t\t\tcontentType: false\n\t\t\t\t\t\t};\n\t\t\t\t\t\tlet progressIndicatorElement = $.progressIndicator({\n\t\t\t\t\t\t\tblockInfo: { enabled: true }\n\t\t\t\t\t\t});\n\t\t\t\t\t\tAppConnector\n\t\t\t\t\t\t\t.request(params)\n\t\t\t\t\t\t\t.done(function (data) {\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tlet relatedModuleName = 'Documents';\n\t\t\t\t\t\t\t\tif (app.getViewName() === 'Detail') {\n\t\t\t\t\t\t\t\t\tlet detailView = Vtiger_Detail_Js.getInstance();\n\t\t\t\t\t\t\t\t\tlet selectedTabElement = detailView.getSelectedTab();\n\t\t\t\t\t\t\t\t\tif (selectedTabElement.data('reference') === relatedModuleName) {\n\t\t\t\t\t\t\t\t\t\tdetailView.reloadTabContent();\n\t\t\t\t\t\t\t\t\t} else if (\n\t\t\t\t\t\t\t\t\t\tdetailView.getContentHolder().find('.detailViewBlockLink').data('reference') === relatedModuleName\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\tVtiger_RelatedList_Js.getInstance(\n\t\t\t\t\t\t\t\t\t\t\tdetailView.getRecordId(),\n\t\t\t\t\t\t\t\t\t\t\tapp.getModuleName(),\n\t\t\t\t\t\t\t\t\t\t\tselectedTabElement,\n\t\t\t\t\t\t\t\t\t\t\trelatedModuleName\n\t\t\t\t\t\t\t\t\t\t).loadRelatedList();\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tlet updatesWidget = detailView\n\t\t\t\t\t\t\t\t\t\t\t.getContentHolder()\n\t\t\t\t\t\t\t\t\t\t\t.find(\"[data-type='RelatedModule'][data-name='Documents']\");\n\t\t\t\t\t\t\t\t\t\tif (updatesWidget.length > 0) {\n\t\t\t\t\t\t\t\t\t\t\tlet params = detailView.getFiltersData(updatesWidget);\n\t\t\t\t\t\t\t\t\t\t\tdetailView.loadWidget(updatesWidget, params['params']);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tVtiger_List_Js.getInstance().getListViewRecords();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.fail(function () {\n\t\t\t\t\t\t\t\tprogressIndicatorElement.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\t\tapp.showNotify({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_ERROR'),\n\t\t\t\t\t\t\t\t\ttype: 'error'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});;\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t};\n\n\t\t\tlet treeInstance = self.content.find('#treeContents');\n\t\t\tsetupTree(\n\t\t\t\ttreeInstance, \n\t\t\t\tself.content.find('.js-switch--tree').first().is(':checked')\n\t\t\t\t\t? JSON.parse(self.content.find('.js-tree-data').val())\n\t\t\t\t\t: JSON.parse(self.content.find('.js-full-tree-data').val())\n\t\t\t);\n\n\t\t\tself.content.find('.js-switch--tree').on('change', () => {\n\t\t\t\tlet isHideEmptySelected = self.content.find('.js-switch--tree').first().is(':checked');\n\t\t\t\tapp.setCookie('switch-tree', isHideEmptySelected ? 'true' : 'false', 36500);\n\n\t\t\t\ttreeInstance.jstree(true).settings.core.data = \n\t\t\t\t\tisHideEmptySelected\n\t\t\t\t\t? JSON.parse(self.content.find('.js-tree-data').val())\n\t\t\t\t\t: JSON.parse(self.content.find('.js-full-tree-data').val());\n\t\t\t\ttreeInstance.jstree(true).refresh();\n\t\t\t});\n\t\t},\n\t\t/**\n\t\t * Register related events\n\t\t */\n\t\tregisterRelatedEvents: function () {\n\t\t\tthis.registerUnreviewedCountEvent();\n\t\t\tthis.registerChangeEntityStateEvent();\n\t\t\tthis.registerPaginationEvents();\n\t\t\tthis.registerListEvents();\n\t\t\tthis.registerPostLoadEvents();\n\t\t\tthis.registerSummationEvent();\n\t\t\tthis.registerCheckBoxClickEvent();\n\t\t\tthis.registerMainCheckBoxClickEvent();\n\t\t\tthis.registerSelectAllClickEvent();\n\t\t\tthis.registerDeselectAllClickEvent();\n\t\t\tthis.registerQuickEditSaveEvent();\n\t\t\tthis.registerChangeViewEvent();\n\t\t\tYetiForce_ListSearch_Js.registerSearch(this.content, (data) => {\n\t\t\t\tthis.loadRelatedList(data);\n\t\t\t});\n\t\t}\n\t}\n);\n"],"names":["jQuery","Class","relatedListInstance","getInstance","parentId","parentModule","selectedRelatedTabElement","relatedModuleName","url","Vtiger_RelatedList_Js","moduleName","moduleClassName","app","getModuleName","fallbackClassName","instance","parentRecordId","parentModuleName","relatedTabsContainer","closest","content","$","relatedView","find","val","parseUrlParams","setSelectedTabElement","getInstanceByUrl","convertUrlToObject","params","defaultParams","triggerMassAction","massActionUrl","type","validationResult","self","checkListRecordSelected","progressIndicator","selectedIds","readSelectedIds","excludedIds","readExcludedIds","cvId","getCurrentCvId","postData","getCompleteParams","mode","view","viewname","selected_ids","excluded_ids","openUrlMethodPost","progressIndicatorElement","AppConnector","request","data","done","responseData","result","notify","Vtiger_Helper_Js","showMessage","reloadList","Vtiger_Detail_Js","reloadRelatedList","procesStop","fail","noRecordSelectedAlert","verifyFileExist","aDeferred","Deferred","action","resolve","promise","triggerMassDownload","thisInstance","substring","indexOf","triggerMassState","triggerMassQuickCreate","getSelectedParams","progress","blockInfo","enabled","callbackFunction","loadRelatedList","noCache","extend","sourceView","sourceModule","listParams","relatedModule","entityState","search_params","relationId","relatedRecord","record","module","App","Components","QuickCreate","getForm","showModal","registerEventForClockPicker","triggerSendEmail","getDefaultParams","Vtiger_List_Js","relatedLoad","sourceRecord","getRecordId","triggerSendEmailByRow","row","triggerMassEmail","JSON","parse","includes","length","showNotify","text","vtranslate","window","open","join","Math","max","width","listSearchInstance","detailViewContentHolder","frameProgress","noEventsListSearch","listViewContainer","tabElement","getSelectedTabElement","getParentId","getRelatedContainer","setRelatedContainer","container","getContentHolder","getCurrentPageNum","setCurrentPageNumber","pageNumber","getOrderBy","Object","assign","stringify","getListSearchParams","getAlphabetSearchValue","getAlphabetSearchField","searchValue","switchBtn","time","first","prop","tab_label","cvid","loadWidgets","position","completeParams","activeTabsReference","currentInstance","progressInstance","removeClass","addClass","html","tooltip","registerPostLoadEvents","registerListEvents","textStatus","errorThrown","reject","triggerDisplayTypeEvent","cacheGet","widthType","elements","attr","showSelectRelation","extendParams","getRecordsListParams","showRecordsList","modal","setSelectEvent","addRelations","keys","event","trigger","detail","registerRelatedModulesRecordCount","src_module","src_record","multi_select","idList","related_module","related_record_list","isArray","deleteRelation","target","id","response","widget","loadWidget","updatesWidget","nextPageHandler","pageLimit","noOfEntries","nextPage","parseInt","page","previousPageHandler","previousPage","selectPageHandler","pageJumpHandler","e","which","currentTarget","Vtiger_WholeNumberGreaterThanZero_Validator_Js","invokeValidation","element","validationEngine","preventDefault","totalPages","jumpToPage","error","parent","currentPage","message","addRelatedRecord","callback","urlPart","referenceModuleName","quickCreateParams","relatedParams","relatedField","fullFormUrl","preQuickCreateSave","queryParam","queryParamComponents","queryParameters","split","queryString","urlSplit","index","appendTo","inArray","eliminatedKeys","createRecord","getRelatedPageCount","totalCountElem","totalPageNumber","numberOfRecords","pageCount","favoritesRelation","relcrmId","state","relcrmid","actionMode","updatePreview","frame","replace","getMainParams","defaultView","registerUnreviewedCountEvent","relatedContent","isUnreviewedActive","each","ids","push","recordsId","appData","value","a","m","registerChangeEntityStateEvent","on","registerRowsEvent","hasClass","is","contains","get","recordUrl","getViewName","top","document","location","href","inventoryRow","next","block","toggleClass","registerWidgets","widgetsContainer","detailInstance","widgetList","registerSummationEvent","calculateValue","button","hidePopover","success","registerPreviewEvent","contentHeight","height","getScreenHeight","offset","newHeight","abs","oldHeight","contents","registerPaginationEvents","stopImmediatePropagation","openUrl","restrictionsField","search_key","key","search_value","name","title","showConfirmationBox","registerListScroll","registerTree","setDomParams","toggleSplit","registerListPreviewEvents","YetiForce_ListSearch_Js","getSecondColMinWidth","maxWidth","i","thisWidth","listColumnFirstWidth","listColumnSecondWidth","windowW","mainBody","windowMinWidth","windowMaxWidth","minWidth","sideBlocks","sideBlockLeft","sideBlockRight","last","list","preview","rotatedText","footerH","outerHeight","headerH","getDefaultSplitSizes","thWidth","getSplitSizes","moduleCacheGet","cachedParams","showNewScrollbarTopBottom","showNewScrollbarLeft","getSizes","setSizes","defaultGutterPosition","show","moduleCacheSet","parents","registerScrollEvent","gutter","Scrollbar","listOffsetTop","initialH","mainViewPortHeightCss","mainViewPortWidthCss","fixedElements","scrollContainer","iframe","scrollTop","css","onScroll","registerSplitEvents","rightSplitMaxWidth","minWindowWidth","maxWindowWidth","listPreview","isNaN","gutterRelatedMidPosition","hide","registerSplit","splitSizes","Split","sizes","minSize","gutterSize","snapOffset","onDrag","collapse","mainWindowHeightCss","commactHeight","splitsArray","destroy","left","currentSplit","Quasar","plugins","Platform","desktop","el","xy","getRecordsCount","recordCountVal","minNumberOfRecords","decode","jstree","selectedNodes","li_attr","selectedIdsElementDataAttributes","selectedIdsDataAttr","writeSelectedIds","Array","excludedIdsElementDataAttributes","excludedIdsDataAttr","writeExcludedIds","checkSelectAll","registerCheckBoxClickEvent","elem","splice","registerMainCheckBoxClickEvent","recordCountObj","registerSelectAllClickEvent","registerDeselectAllClickEvent","registerQuickEditSaveEvent","postSummaryWidgetAddRecord","registerChangeViewEvent","dataset","treeInstance","core","themes","responsive","icons","checkbox","three_state","keep_selected_style","whole_node","contextmenu","select_node","show_at_node","items","node","label","icon","get_node","reference","item","removeFromUrl","QuickEdit","additionalParams","Vtiger_Index_Js","massAddDocuments","sort","node1id","node2id","node1t","node1","node1v","trim","node1f","node2","node2t","node2v","node2f","nodes","stopPropagation","originalEvent","dataTransfer","files","formData","append","attributes","processData","contentType","selectedTabElement","detailView","getSelectedTab","reloadTabContent","getFiltersData","getListViewRecords","setupTree","setCookie","isHideEmptySelected","settings","refresh","registerRelatedEvents","registerSearch"],"mappings":"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"}